<!DOCTYPE html>
<!--html>
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1.0" name="viewport" /-->

    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"> -->
    <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script-->
    <!--script src="jquery.min.js"></script>
    <script src="position.js"></script>
  </head>
  <body>
    <div id="map"></div>
    This is a test.
  </body>
</html-->

<!DOCTYPE html>
<html>
  <body>

  <p>Click the button to get your coordinates.</p>

  <button onclick="getLocation()">Try It</button>

  <p id="demo"></p>

  <script>
    coords = {
      lat: 0,
      lon: 0
    }

    options = {
      enableHighAccuracy: false,
      timeout: 5000,
      maximumAge: 0
    };

    var lat, lon;
    // var currentLocation = function() { 
    //     navigator.geolocation.getCurrentPosition(function(position) { 
    //         lat = position.coords.latitude; 
    //         lon = position.coords.longitude; 
    //         console.log(lat, lon);
    //     }, null, options);
        
    //    coords.lat = lat; 
    //    coords.lon = lon; 

    //    return coords 
    // };

    var x = document.getElementById("demo");

    function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.watchPosition(currentLocation);
          // console.log(currentLocation());
          navigator.geolocation.watchPosition(showPosition);
          // navigator.geolocation.watchPosition(function(coords) {
          //   lat = position.coords.latitude; 
          //   lon = position.coords.longitude;
          //   return lat
          // });
          // navigator.geolocation.watchPosition(showPosition);
          // navigator.geolocation.watchPosition(showPosition);
      } else { 
          x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
        
    function showPosition(position) {
        x.innerHTML="Latitude: " + position.coords.latitude + 
        "<br>Longitude: " + position.coords.longitude;  
    }

    function currentLocation(position) { 
      lat = position.coords.latitude; 
      lon = position.coords.longitude; 
      console.log(lat, lon);
        
      coords.lat = lat; 
      coords.lon = lon; 
      console.log(coords)

      return coords 
    };

  </script>

  </body>
</html>

